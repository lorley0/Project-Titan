{"ast":null,"code":"import axios from 'axios';\nexport const ADD_BUSINESS = 'ADD_BUSINESS';\nexport const FETCH_BUSINESSES = 'FETCH_BUSINESSES';\nexport const addBusiness = business => async dispatch => {\n  try {\n    const res = await axios.post('/api/businesses', business);\n    dispatch({\n      type: ADD_BUSINESS,\n      payload: res.data\n    });\n  } catch (err) {\n    console.error(err);\n  }\n};\nexport const fetchBusinesses = () => async dispatch => {\n  try {\n    const res = await axios.get('/api/businesses');\n    dispatch({\n      type: FETCH_BUSINESSES,\n      payload: res.data\n    });\n  } catch (err) {\n    console.error(err);\n  }\n};\nexport const submitVerificationRequest = (businessId, formData) => {\n  return async dispatch => {\n    try {\n      const response = await fetch(`/api/business/verify/${businessId}`, {\n        method: 'POST',\n        body: formData\n      });\n      const data = await response.json();\n      if (data.success) {\n        dispatch({\n          type: 'SUBMIT_VERIFICATION_REQUEST_SUCCESS',\n          payload: data.message\n        });\n      } else {\n        dispatch({\n          type: 'SUBMIT_VERIFICATION_REQUEST_FAILURE',\n          payload: data.error\n        });\n      }\n    } catch (error) {\n      dispatch({\n        type: 'SUBMIT_VERIFICATION_REQUEST_FAILURE',\n        payload: error.message\n      });\n    }\n  };\n};","map":{"version":3,"names":["axios","ADD_BUSINESS","FETCH_BUSINESSES","addBusiness","business","dispatch","res","post","type","payload","data","err","console","error","fetchBusinesses","get","submitVerificationRequest","businessId","formData","response","fetch","method","body","json","success","message"],"sources":["D:/Lorley/client/src/actions/business.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nexport const ADD_BUSINESS = 'ADD_BUSINESS';\r\nexport const FETCH_BUSINESSES = 'FETCH_BUSINESSES';\r\n\r\nexport const addBusiness = (business) => async (dispatch) => {\r\n    try {\r\n        const res = await axios.post('/api/businesses', business);\r\n        dispatch({ type: ADD_BUSINESS, payload: res.data });\r\n    } catch (err) {\r\n        console.error(err);\r\n    }\r\n};\r\n\r\nexport const fetchBusinesses = () => async (dispatch) => {\r\n    try {\r\n        const res = await axios.get('/api/businesses');\r\n        dispatch({ type: FETCH_BUSINESSES, payload: res.data });\r\n    } catch (err) {\r\n        console.error(err);\r\n    }\r\n};\r\n\r\nexport const submitVerificationRequest = (businessId, formData) => {\r\n    return async (dispatch) => {\r\n      try {\r\n        const response = await fetch(`/api/business/verify/${businessId}`, {\r\n          method: 'POST',\r\n          body: formData,\r\n        });\r\n  \r\n        const data = await response.json();\r\n  \r\n        if (data.success) {\r\n          dispatch({\r\n            type: 'SUBMIT_VERIFICATION_REQUEST_SUCCESS',\r\n            payload: data.message,\r\n          });\r\n        } else {\r\n          dispatch({\r\n            type: 'SUBMIT_VERIFICATION_REQUEST_FAILURE',\r\n            payload: data.error,\r\n          });\r\n        }\r\n      } catch (error) {\r\n        dispatch({\r\n          type: 'SUBMIT_VERIFICATION_REQUEST_FAILURE',\r\n          payload: error.message,\r\n        });\r\n      }\r\n    };\r\n};"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,YAAY,GAAG,cAAc;AAC1C,OAAO,MAAMC,gBAAgB,GAAG,kBAAkB;AAElD,OAAO,MAAMC,WAAW,GAAIC,QAAQ,IAAK,MAAOC,QAAQ,IAAK;EACzD,IAAI;IACA,MAAMC,GAAG,GAAG,MAAMN,KAAK,CAACO,IAAI,CAAC,iBAAiB,EAAEH,QAAQ,CAAC;IACzDC,QAAQ,CAAC;MAAEG,IAAI,EAAEP,YAAY;MAAEQ,OAAO,EAAEH,GAAG,CAACI;IAAK,CAAC,CAAC;EACvD,CAAC,CAAC,OAAOC,GAAG,EAAE;IACVC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;EACtB;AACJ,CAAC;AAED,OAAO,MAAMG,eAAe,GAAGA,CAAA,KAAM,MAAOT,QAAQ,IAAK;EACrD,IAAI;IACA,MAAMC,GAAG,GAAG,MAAMN,KAAK,CAACe,GAAG,CAAC,iBAAiB,CAAC;IAC9CV,QAAQ,CAAC;MAAEG,IAAI,EAAEN,gBAAgB;MAAEO,OAAO,EAAEH,GAAG,CAACI;IAAK,CAAC,CAAC;EAC3D,CAAC,CAAC,OAAOC,GAAG,EAAE;IACVC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;EACtB;AACJ,CAAC;AAED,OAAO,MAAMK,yBAAyB,GAAGA,CAACC,UAAU,EAAEC,QAAQ,KAAK;EAC/D,OAAO,MAAOb,QAAQ,IAAK;IACzB,IAAI;MACF,MAAMc,QAAQ,GAAG,MAAMC,KAAK,CAAC,wBAAwBH,UAAU,EAAE,EAAE;QACjEI,MAAM,EAAE,MAAM;QACdC,IAAI,EAAEJ;MACR,CAAC,CAAC;MAEF,MAAMR,IAAI,GAAG,MAAMS,QAAQ,CAACI,IAAI,CAAC,CAAC;MAElC,IAAIb,IAAI,CAACc,OAAO,EAAE;QAChBnB,QAAQ,CAAC;UACPG,IAAI,EAAE,qCAAqC;UAC3CC,OAAO,EAAEC,IAAI,CAACe;QAChB,CAAC,CAAC;MACJ,CAAC,MAAM;QACLpB,QAAQ,CAAC;UACPG,IAAI,EAAE,qCAAqC;UAC3CC,OAAO,EAAEC,IAAI,CAACG;QAChB,CAAC,CAAC;MACJ;IACF,CAAC,CAAC,OAAOA,KAAK,EAAE;MACdR,QAAQ,CAAC;QACPG,IAAI,EAAE,qCAAqC;QAC3CC,OAAO,EAAEI,KAAK,CAACY;MACjB,CAAC,CAAC;IACJ;EACF,CAAC;AACL,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}